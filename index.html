<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WGS84 Globe</title>
  <link rel="stylesheet" href="style.css">
  <!-- The <style> block has been removed -->
</head>
<body>
<div id="globe"></div>

<!-- UI Overlays -->
<div id="data-info" class="overlay data-info">
  <span>Source: Loading... | Timestamp</span>
</div>
<div id="status" class="overlay status">
  <span>WGS84 Globe</span>
</div>
<div id="location" class="overlay location">
  <span>Initializing...</span>
</div>

<!-- Menu Button -->
<div id="menu-button" class="menu-button">Menu</div>

<!-- Top Right Overlay Controls -->
<div class="overlay-menu">
  <div class="overlay-row">
    <div class="overlay-label">Overlay:</div>
    <div class="overlay-value">
      <select id="overlay-type" class="overlay-selector">
        <option value="none">None</option>
        <option value="magvar">Magnetic Variation</option>
        <option value="temperature">Temperature</option>
        <option value="windspeed">Wind Speed</option>
        <option value="humidity">Humidity</option>
      </select>
    </div>
  </div>
  <div class="overlay-row">
    <div class="overlay-label">Mode:</div>
    <div class="overlay-value">
      <button id="mode-gradient" class="display-mode-btn active">Gradient</button>
      <button id="mode-vector" class="display-mode-btn">Vector</button>
      <button id="mode-isoline" class="display-mode-btn">Isoline</button>
    </div>
  </div>
  <div class="overlay-row">
    <div class="overlay-label">Altitude:</div>
    <div class="overlay-value">
      <input type="range" id="height-level" min="0" max="10" value="0">
      <span id="height-value">0 km</span>
    </div>
  </div>
</div>

<!-- Menu Panel (Left) -->
<div id="menu-panel" class="panel menu-panel">
  <div class="menu-section">
    <h3>Display Options</h3>
    <label><input type="checkbox" id="show-graticule"> Show Grid</label>
    <label><input type="checkbox" id="show-grid-dots"> Show Grid Dots</label>
    <label><input type="checkbox" id="outline-only"> Land Outline Only</label>
    <label><input type="checkbox" id="show-labels"> Show Labels</label>
  </div>
  <div class="menu-section">
    <h3>Projection</h3>
    <select id="projection-select">
      <option value="orthographic">Orthographic</option>
      <option value="equirectangular">Equirectangular</option>
      <option value="mercator">Mercator</option>
      <option value="stereographic">Stereographic</option>
    </select>
    <label>Auto-Rotation Speed</label>
    <input type="range" id="rotation-speed" min="0" max="20" value="0"> <!-- Adjusted range -->
  </div>
  <div class="menu-section">
    <h3>View</h3>
    <div class="btn-group">
      <button id="view-atlantic">Atlantic</button>
      <button id="view-pacific">Pacific</button>
      <button id="view-north-america">N. America</button>
      <button id="view-south-america">S. America</button>
      <button id="view-europe">Europe</button>
      <button id="view-africa">Africa</button>
      <button id="view-asia">Asia</button>
      <button id="view-australia">Australia</button>
    </div>
  </div>
  <div class="menu-section">
    <h3>Settings</h3>
    <button id="settings-button" style="width: 100%">Advanced Settings</button>
  </div>
  <div class="menu-section">
    <h3>About</h3>
    <p style="margin-top: 0; font-size: 10px;">
      Interactive WGS84 Globe<br>
      Data: Natural Earth, WMM 2025<br>
      Inspired by <a href="https://github.com/cambecc/earth" target="_blank" style="color: #69c; text-decoration: none;">cambecc/earth</a>.
    </p>
  </div>
</div>

<!-- Settings Panel (Left) -->
<div id="settings-panel" class="panel settings-panel">
  <div class="menu-section">
    <button id="back-button" style="width: 100%; margin-bottom: 1em;">‚Üê Back to Menu</button>
    <h3>Advanced Settings</h3>
  </div>
  <div class="menu-section">
    <h3>Colors</h3>
    <div>
      <span>Land:</span>
      <span class="color-option" style="background-color: #303030;" data-color="#303030"></span>
      <span class="color-option" style="background-color: #2A9D8F;" data-color="#2A9D8F"></span>
      <span class="color-option" style="background-color: #72B092;" data-color="#72B092"></span>
      <span class="color-option" style="background-color: #466B6A;" data-color="#466B6A"></span>
    </div>
    <div style="margin-top: 0.5em;">
      <span>Ocean:</span>
      <span class="color-option" style="background-color: #181818;" data-color="#181818"></span>
      <span class="color-option" style="background-color: #183059;" data-color="#183059"></span>
      <span class="color-option" style="background-color: #001D3D;" data-color="#001D3D"></span>
      <span class="color-option" style="background-color: #000814;" data-color="#000814"></span>
    </div>
  </div>
  <div class="menu-section">
    <h3>Grid Settings</h3>
    <label>Grid Opacity</label>
    <input type="range" id="grid-opacity" min="0" max="100" value="50">
    <label>Grid Color</label>
    <select id="grid-color">
      <option value="#555555">Gray</option>
      <option value="#AAAAAA">Light Gray</option>
      <option value="#FFFFFF">White</option>
      <option value="#3388BB">Blue</option>
    </select>
  </div>
  <div class="menu-section">
    <h3>Overlay Settings</h3>
    <label>Overlay Opacity</label>
    <input type="range" id="overlay-opacity" min="0" max="100" value="70">
    <label>Vector Density</label>
    <input type="range" id="vector-density" min="1" max="10" value="5">
    <label>Isoline Spacing</label>
    <select id="isoline-spacing">
      <option value="coarse">Coarse</option>
      <option value="medium">Medium</option>
      <option value="fine">Fine</option>
    </select>
  </div>
</div>

<!-- Overlay Legend -->
<div id="overlay-legend" class="legend">
  <h3>Legend Title</h3>
  <div class="legend-content">
    <div id="legend-bar" class="legend-gradient"></div>
    <div id="legend-labels" class="legend-labels">
      <!-- Filled dynamically -->
    </div>
  </div>
</div>

<!-- Marker and Info Window -->
<div id="marker" class="marker" style="display: none;"></div>
<div id="info-window" class="info-window" style="display: none;"></div>

<!-- Tooltip -->
<div id="tooltip"></div>

<footer>
  Created for httpsTeabagexe | Timestamp
</footer>

<!-- Load D3 and TopoJSON -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://d3js.org/topojson.v3.min.js"></script>
<!-- Load Chroma.js for color scales (optional but useful) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"></script>


<!-- Load the main application module -->
<script type="module" src="js/app.js"></script>

</body>
</html>